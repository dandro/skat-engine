<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Command</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Progen-cli</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Command</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module in charge of parsing the CLI command and constructing a domain
specific representation of the instruction to execute.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:GenCommand">GenCommand</a> = <a href="#v:GenCommand">GenCommand</a> {<ul class="subs"><li><a href="#v:what">what</a> :: String</li><li><a href="#v:name">name</a> :: String</li><li><a href="#v:sub">sub</a> :: Map String String</li><li><a href="#v:asModule">asModule</a> :: Bool</li><li><a href="#v:output">output</a> :: Maybe RelDir</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:CommandError">CommandError</a><ul class="subs"><li>= <a href="#v:InvalidSubstitutionError">InvalidSubstitutionError</a> String</li><li>| <a href="#v:DuplicateSubstitutionError">DuplicateSubstitutionError</a> String</li></ul></li><li class="src short"><a href="#v:toListOfStr">toListOfStr</a> :: String -&gt; [[String]]</li><li class="src short"><a href="#v:hasEmptyStrings">hasEmptyStrings</a> :: [String] -&gt; Bool</li><li class="src short"><a href="#v:mkPair">mkPair</a> :: [String] -&gt; Either <a href="Command.html#t:CommandError" title="Command">CommandError</a> (String, String)</li><li class="src short"><a href="#v:safeInsert">safeInsert</a> :: (String, String) -&gt; Map String String -&gt; Either <a href="Command.html#t:CommandError" title="Command">CommandError</a> (Map String String)</li><li class="src short"><a href="#v:mkSubstitutions">mkSubstitutions</a> :: [[String]] -&gt; Either String (Map String String)</li><li class="src short"><a href="#v:mkOptionalOutput">mkOptionalOutput</a> :: String -&gt; Either String (Maybe RelDir)</li><li class="src short"><a href="#v:mkGenCommand">mkGenCommand</a> :: String -&gt; String -&gt; Map String String -&gt; Bool -&gt; Maybe RelDir -&gt; <a href="Command.html#t:GenCommand" title="Command">GenCommand</a></li><li class="src short"><a href="#v:mkGenCommandParser">mkGenCommandParser</a> :: Parser <a href="Command.html#t:GenCommand" title="Command">GenCommand</a></li><li class="src short"><a href="#v:parserOptions">parserOptions</a> :: ParserInfo <a href="Command.html#t:GenCommand" title="Command">GenCommand</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GenCommand" class="def">GenCommand</a> <a href="#t:GenCommand" class="selflink">#</a></p><div class="doc"><p>GenCommand represents the instructions the program will execute. It contains what we
  are going to copy, its name and content substitutions as well as whether or not to treat
  the artifact as a module.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:GenCommand" class="def">GenCommand</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:what" class="def">what</a> :: String</dfn><div class="doc"><p>What do we want to copy, or which template do we want to use.</p></div></li><li><dfn class="src"><a id="v:name" class="def">name</a> :: String</dfn><div class="doc"><p>The name that will be given to the new files.</p></div></li><li><dfn class="src"><a id="v:sub" class="def">sub</a> :: Map String String</dfn><div class="doc"><p>Mapping of values to substitute in the templates content</p></div></li><li><dfn class="src"><a id="v:asModule" class="def">asModule</a> :: Bool</dfn><div class="doc"><p>Should the output files be treated as a module. If it is a module it will create a directory with the name and put the files inside.</p></div></li><li><dfn class="src"><a id="v:output" class="def">output</a> :: Maybe RelDir</dfn><div class="doc"><p>Alternate output directory. Use to override config parameter</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:GenCommand">Instances</h4><details id="i:GenCommand" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GenCommand:Show:1"></span> Show <a href="Command.html#t:GenCommand" title="Command">GenCommand</a></span> <a href="#t:GenCommand" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:GenCommand:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Command.html">Command</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Command.html#t:GenCommand" title="Command">GenCommand</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Command.html#t:GenCommand" title="Command">GenCommand</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Command.html#t:GenCommand" title="Command">GenCommand</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CommandError" class="def">CommandError</a> <a href="#t:CommandError" class="selflink">#</a></p><div class="doc"><p>Encompasses all possible errors in the Command module</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InvalidSubstitutionError" class="def">InvalidSubstitutionError</a> String</td><td class="doc"><p>If substitution does is not a key/value pair or it contains empty strings</p></td></tr><tr><td class="src"><a id="v:DuplicateSubstitutionError" class="def">DuplicateSubstitutionError</a> String</td><td class="doc"><p>If more than one value has been passed for the same substitution key.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:CommandError">Instances</h4><details id="i:CommandError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:CommandError:Show:1"></span> Show <a href="Command.html#t:CommandError" title="Command">CommandError</a></span> <a href="#t:CommandError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:CommandError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Command.html">Command</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Command.html#t:CommandError" title="Command">CommandError</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Command.html#t:CommandError" title="Command">CommandError</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Command.html#t:CommandError" title="Command">CommandError</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:toListOfStr" class="def">toListOfStr</a> :: String -&gt; [[String]] <a href="#v:toListOfStr" class="selflink">#</a></p><div class="doc"><p>This function is meant to split the str by ','
  first and then split each result by <code>:</code> and
  then trim each string in the inner List. The
  IDE helped format it this way but it's a tad hard
  to grok.
  e.g.
       if str is &quot;$A$:a, $B$:b&quot;
       then the result is [[<a href="A.html">A</a>, &quot;a&quot;], [<a href="B.html">B</a>, &quot;b&quot;]]</p></div></div><div class="top"><p class="src"><a id="v:hasEmptyStrings" class="def">hasEmptyStrings</a> :: [String] -&gt; Bool <a href="#v:hasEmptyStrings" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkPair" class="def">mkPair</a> :: [String] -&gt; Either <a href="Command.html#t:CommandError" title="Command">CommandError</a> (String, String) <a href="#v:mkPair" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:safeInsert" class="def">safeInsert</a> :: (String, String) -&gt; Map String String -&gt; Either <a href="Command.html#t:CommandError" title="Command">CommandError</a> (Map String String) <a href="#v:safeInsert" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkSubstitutions" class="def">mkSubstitutions</a> :: [[String]] -&gt; Either String (Map String String) <a href="#v:mkSubstitutions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkOptionalOutput" class="def">mkOptionalOutput</a> :: String -&gt; Either String (Maybe RelDir) <a href="#v:mkOptionalOutput" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkGenCommand" class="def">mkGenCommand</a> <a href="#v:mkGenCommand" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>What do we want to copy, or which template do we want to use.</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>The name that will be given to the new files.</p></td></tr><tr><td class="src">-&gt; Map String String</td><td class="doc"><p>Mapping of values to substitute in the templates content.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Should the output files be treated as a module. If it is a module it will create a directory with the name and put the files inside.</p></td></tr><tr><td class="src">-&gt; Maybe RelDir</td><td class="doc"><p>Alternate output directory. Use to override config parameter</p></td></tr><tr><td class="src">-&gt; <a href="Command.html#t:GenCommand" title="Command">GenCommand</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>GenCommand factory</p></div></div><div class="top"><p class="src"><a id="v:mkGenCommandParser" class="def">mkGenCommandParser</a> :: Parser <a href="Command.html#t:GenCommand" title="Command">GenCommand</a> <a href="#v:mkGenCommandParser" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:parserOptions" class="def">parserOptions</a> :: ParserInfo <a href="Command.html#t:GenCommand" title="Command">GenCommand</a> <a href="#v:parserOptions" class="selflink">#</a></p><div class="doc"><p>This is the configuration given to Opt-Parser Applicative. This is what will be used
  in the cli program, the messages and banners displayed. It is a parser for GenCommand.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>